# Agent M - Quick Start Guide

This guide will get you up and running with Agent M in about 10-15 minutes.

## Prerequisites

Before you begin, make sure you have:

- ‚úÖ Node.js 18+ installed
- ‚úÖ Python 3.11+ installed
- ‚úÖ Git installed
- ‚úÖ A Supabase account (free tier works)
- ‚úÖ An OpenAI API key

## Step-by-Step Setup

### 1. Clone and Setup

```bash
# Clone the repository
git clone https://github.com/ak-1344/AgentM.git
cd AgentM

# Run the automated setup script
./setup.sh
```

The setup script will:
- Install all frontend dependencies (npm)
- Install all backend dependencies (pip)
- Create environment file templates
- Generate an encryption key

### 2. Create Supabase Project

1. Go to https://supabase.com and create a free account
2. Click "New Project"
3. Fill in project details:
   - Name: `agent-m`
   - Database Password: (save this securely)
   - Region: (choose closest to you)
4. Wait for project to be created (~2 minutes)

### 3. Setup Database

1. In your Supabase dashboard, go to **SQL Editor**
2. Click "New Query"
3. Copy the entire contents of `database/schema_phase1.sql`
4. Paste and click "Run"
5. You should see "Success. No rows returned"

### 4. Create Storage Bucket

1. In Supabase dashboard, go to **Storage**
2. Click "New Bucket"
3. Name: `resumes`
4. Make it **public** (for authenticated users)
5. Click "Create bucket"

### 5. Get Supabase Credentials

In your Supabase project dashboard:

1. Go to **Settings** ‚Üí **API**
2. Copy these values:
   - Project URL (`https://xxx.supabase.co`)
   - `anon` public key
   - `service_role` secret key
   
3. Go to **Settings** ‚Üí **API** ‚Üí **JWT Settings**
4. Copy the JWT Secret

### 6. Get OpenAI API Key

1. Go to https://platform.openai.com/api-keys
2. Sign in or create account
3. Click "Create new secret key"
4. Name it "Agent M"
5. Copy the key (starts with `sk-`)

### 7. Configure Backend

Edit `backend/.env`:

```env
# Replace these with your actual values
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret
OPENAI_API_KEY=sk-your-openai-key

# These were generated by setup.sh
SECRET_KEY=your-secret-key
ENCRYPTION_KEY=your-encryption-key

# Leave as is for local development
BACKEND_CORS_ORIGINS=http://localhost:3000
```

### 8. Configure Frontend

Edit `frontend/.env.local`:

```env
# Replace with your Supabase values
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-public-key

# Leave as is for local development
NEXT_PUBLIC_API_URL=http://localhost:8000
```

### 9. Start the Application

Open two terminal windows:

**Terminal 1 - Backend:**
```bash
cd backend
source venv/bin/activate  # On Windows: venv\Scripts\activate
uvicorn main:app --reload
```

You should see:
```
INFO:     Uvicorn running on http://127.0.0.1:8000
```

**Terminal 2 - Frontend:**
```bash
cd frontend
npm run dev
```

You should see:
```
ready - started server on 0.0.0.0:3000
```

### 10. Test the Application

1. Open http://localhost:3000
2. Click "Sign Up"
3. Create an account with email/password
4. You should be redirected to the dashboard!

## What You Can Do Now (Phase 1)

‚úÖ **Upload Resume**
- Navigate to "Resume" in the sidebar
- Upload PDF or DOCX file
- AI will automatically parse your skills, experience, education

‚úÖ **Setup Context**
- Navigate to "Context"
- Fill in your target roles, industries, tone preferences
- Add keywords and location preferences
- Save your context profile

‚úÖ **Configure Email**
- Navigate to "Settings"
- Add your SMTP credentials (Gmail, Outlook, etc.)
- Test the connection
- Send manual emails

## Testing Email Sending

To test email functionality:

1. **Get SMTP Credentials:**
   - For Gmail: Use App Password (see `PendingWork/smtp_setup.md`)
   - For Outlook: Use regular password with "Allow less secure apps"

2. **Configure in Settings:**
   - Add SMTP host (e.g., `smtp.gmail.com`)
   - Port: `587` for TLS
   - Your email and password
   - Click "Test Connection"

3. **Send a Test Email:**
   - Use the API or wait for Phase 2 UI
   - Or test via API docs: http://localhost:8000/docs

## Common Issues

### Backend won't start

**Error: `No module named 'fastapi'`**
- Solution: Make sure virtual environment is activated
  ```bash
  cd backend
  source venv/bin/activate
  pip install -r requirements.txt
  ```

**Error: `Supabase connection failed`**
- Solution: Check your `backend/.env` file
- Make sure SUPABASE_URL and keys are correct

### Frontend won't start

**Error: `Cannot find module 'next'`**
- Solution: Install dependencies
  ```bash
  cd frontend
  npm install
  ```

**Error: `Invalid Supabase URL`**
- Solution: Check `frontend/.env.local`
- Make sure NEXT_PUBLIC_SUPABASE_URL is correct

### Can't sign up/login

**Error: `Invalid JWT`**
- Solution: Make sure SUPABASE_JWT_SECRET in backend matches your Supabase project

**Error: `Email not confirmed`**
- Solution: In Supabase dashboard, go to Authentication ‚Üí Settings
- Disable "Enable email confirmations" for development

### Resume upload fails

**Error: `Storage bucket not found`**
- Solution: Create the `resumes` bucket in Supabase Storage

**Error: `Unauthorized`**
- Solution: Make the `resumes` bucket public for authenticated users

## Next Steps

Once you have the basic app running:

1. **Set up Google OAuth** (optional)
   - Follow `PendingWork/oauth_google_setup.md`
   - Adds "Sign in with Google" button

2. **Configure Production SMTP**
   - Follow `PendingWork/smtp_setup.md`
   - Set up dedicated email service (SendGrid, Mailgun, etc.)

3. **Explore Phase 2 Features**
   - Web crawling for company discovery
   - Automated email generation
   - See `Work-domains.txt` for roadmap

## Getting Help

- üìñ Check `PendingWork/` directory for detailed guides
- üêõ Found a bug? Open an issue on GitHub
- üí¨ Questions? Start a discussion

## API Documentation

Once backend is running, explore the API:
- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

You can test all endpoints directly from the browser!

---

**Congratulations! You now have Agent M running locally! üéâ**

Ready to start automating your outreach!
